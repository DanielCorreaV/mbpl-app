"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[554],{554:(b,x,l)=>{l.d(x,{G:()=>o});var n=l(2200),C=(l(5389),l(5905),l(7343)),M=l(4341),_=(l(6369),l(9701),l(8531),l(6844),l(2615)),p=l(3664);let o=(()=>{var a;class e{static#n=a=()=>(this.\u0275fac=function(r){return new(r||e)},this.\u0275mod=p.$C({type:e}),this.\u0275inj=_.G2t({imports:[n.MD,C.bv,M.YN]}))}return a(),e})()},4398:(b,x,l)=>{l.d(x,{U:()=>d});var n=l(2615),t=l(1377);let d=(()=>{var C;class M{constructor(m){this.vs=m,this.musicAudio=new Audio,this.currentTrack="",this.masterVol=1,this.fxVol=1,this.isMuted=!1,this.musicAudio.loop=!0,this.vs.settings$.subscribe(g=>{this.isMuted=!g.soundEnabled,this.masterVol=g.masterVolume/100,this.fxVol=g.fxVolume/100,this.applyVolumes()})}applyVolumes(){this.musicAudio.volume=this.isMuted?0:this.masterVol}playMusic(m){const g=`assets/audio/music/${m}.mp3`;this.currentTrack!==g&&(this.musicAudio.src=g,this.musicAudio.play().catch(()=>console.log("Interacci\xf3n requerida")),this.currentTrack=g)}playEffect(m){if(this.isMuted)return;const g=new Audio(`assets/audio/effects/${m}.mp3`);g.volume=this.masterVol*this.fxVol,g.play()}static#n=C=()=>(this.\u0275fac=function(g){return new(g||M)(n.KVO(t.M))},this.\u0275prov=n.jDH({token:M,factory:M.\u0275fac,providedIn:"root"}))}return C(),M})()},5389:(b,x,l)=>{l.d(x,{o:()=>u});var n=l(467),t=l(3664),d=l(2615),C=l(1377),M=l(2200),f=l(7343),m=l(4341);function g(_,p){if(1&_){const s=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h2",3),t.EFF(3,"Opciones"),t.k0s(),t.j41(4,"div",4)(5,"label"),t.EFF(6,"Tema:"),t.k0s(),t.j41(7,"ion-select",5),t.mxI("ngModelChange",function(a){d.eBV(s);const e=t.XpG();return t.DH7(e.settings.theme,a)||(e.settings.theme=a),d.Njj(a)}),t.bIt("ionChange",function(){d.eBV(s);const a=t.XpG();return d.Njj(a.applySettings())}),t.j41(8,"ion-select-option",6),t.EFF(9,"Claro"),t.k0s(),t.j41(10,"ion-select-option",7),t.EFF(11,"Oscuro"),t.k0s()()(),t.j41(12,"div",4)(13,"label"),t.EFF(14,"Idioma:"),t.k0s(),t.j41(15,"ion-select",5),t.mxI("ngModelChange",function(a){d.eBV(s);const e=t.XpG();return t.DH7(e.settings.language,a)||(e.settings.language=a),d.Njj(a)}),t.bIt("ionChange",function(){d.eBV(s);const a=t.XpG();return d.Njj(a.applySettings())}),t.j41(16,"ion-select-option",8),t.EFF(17,"Espa\xf1ol"),t.k0s(),t.j41(18,"ion-select-option",9),t.EFF(19,"Ingl\xe9s"),t.k0s()()(),t.j41(20,"div",4)(21,"label"),t.EFF(22),t.k0s(),t.j41(23,"ion-range",10),t.mxI("ngModelChange",function(a){d.eBV(s);const e=t.XpG();return t.DH7(e.settings.masterVolume,a)||(e.settings.masterVolume=a),d.Njj(a)}),t.bIt("ionChange",function(){d.eBV(s);const a=t.XpG();return d.Njj(a.applySettings())}),t.k0s()(),t.j41(24,"div",4)(25,"label"),t.EFF(26),t.k0s(),t.j41(27,"ion-range",10),t.mxI("ngModelChange",function(a){d.eBV(s);const e=t.XpG();return t.DH7(e.settings.fxVolume,a)||(e.settings.fxVolume=a),d.Njj(a)}),t.bIt("ionChange",function(){d.eBV(s);const a=t.XpG();return d.Njj(a.applySettings())}),t.k0s()(),t.j41(28,"div",11)(29,"label"),t.EFF(30,"Sonido:"),t.k0s(),t.j41(31,"ion-toggle",12),t.mxI("ngModelChange",function(a){d.eBV(s);const e=t.XpG();return t.DH7(e.settings.soundEnabled,a)||(e.settings.soundEnabled=a),d.Njj(a)}),t.bIt("ionChange",function(){d.eBV(s);const a=t.XpG();return d.Njj(a.applySettings())}),t.k0s()(),t.j41(32,"div",11)(33,"label"),t.EFF(34,"Pantalla completa:"),t.k0s(),t.j41(35,"ion-toggle",12),t.mxI("ngModelChange",function(a){d.eBV(s);const e=t.XpG();return t.DH7(e.settings.fullscreen,a)||(e.settings.fullscreen=a),d.Njj(a)}),t.bIt("ionChange",function(){d.eBV(s);const a=t.XpG();return d.Njj(a.toggleFullscreen())}),t.k0s()(),t.j41(36,"button",13),t.bIt("click",function(){d.eBV(s);const a=t.XpG();return d.Njj(a.closeOptions())}),t.EFF(37," Cerrar "),t.k0s()()()}if(2&_){const s=t.XpG();t.R7$(7),t.R50("ngModel",s.settings.theme),t.R7$(8),t.R50("ngModel",s.settings.language),t.R7$(7),t.SpI("Musica: ",s.settings.masterVolume,"%"),t.R7$(),t.R50("ngModel",s.settings.masterVolume),t.R7$(3),t.SpI("Efectos: ",s.settings.fxVolume,"%"),t.R7$(),t.R50("ngModel",s.settings.fxVolume),t.R7$(4),t.R50("ngModel",s.settings.soundEnabled),t.R7$(4),t.R50("ngModel",s.settings.fullscreen)}}let u=(()=>{var _;class p{constructor(o){this.vs=o,this.showOptions=!1,this.closed=new t.bkB,this.assets=new t.bkB,this.myAssets={}}ngOnInit(){this.sub=this.vs.settings$.subscribe(o=>{this.settings={...o},this.updateAssets(o.theme)})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}applySettings(){this.vs.update(this.settings)}toggleFullscreen(){var o=this;return(0,n.A)(function*(){document.fullscreenElement?(yield document.exitFullscreen(),o.settings.fullscreen=!1):(yield document.documentElement.requestFullscreen(),o.settings.fullscreen=!0),o.applySettings()})()}updateAssets(o){this.myAssets.logo=`assets/icon/logo-${o}.png`,this.assets.emit(this.myAssets)}closeOptions(){this.closed.emit()}static#n=_=()=>(this.\u0275fac=function(a){return new(a||p)(t.rXU(C.M))},this.\u0275cmp=t.VBU({type:p,selectors:[["app-options"]],inputs:{showOptions:"showOptions"},outputs:{closed:"closed",assets:"assets"},standalone:!1,decls:1,vars:1,consts:[["class","options-overlay",4,"ngIf"],[1,"options-overlay"],[1,"options-panel","fancy-panel"],[1,"panel-title"],[1,"option-item","fancy-group"],["interface","popover",3,"ngModelChange","ionChange","ngModel"],["value","light"],["value","dark"],["value","es"],["value","en"],["min","0","max","100",3,"ngModelChange","ionChange","ngModel"],[1,"option-item","fancy-row"],[3,"ngModelChange","ionChange","ngModel"],[1,"close-panel-btn",3,"click"]],template:function(a,e){1&a&&t.DNE(0,g,38,8,"div",0),2&a&&t.Y8G("ngIf",e.showOptions)},dependencies:[M.bT,f.Ob,f.Nm,f.Ip,f.BY,f.hB,f.su,f.Je,m.BC,m.vS],styles:['@charset "UTF-8";.options-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);display:flex;justify-content:center;align-items:center;z-index:999;transition:-webkit-backdrop-filter .3s ease;transition:backdrop-filter .3s ease;transition:backdrop-filter .3s ease,-webkit-backdrop-filter .3s ease}.fancy-panel[_ngcontent-%COMP%]{width:460px;max-width:90%;padding:36px;border-radius:24px;background:var(--panel-bg);color:var(--panel-text);box-shadow:0 10px 30px -5px #0000004d,0 25px 60px -10px #0006,inset 0 0 0 1px #ffffff1a;border:1px solid var(--panel-border);animation:panelPop .4s cubic-bezier(.34,1.56,.64,1)}.fancy-panel[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;font-size:1.8rem;font-weight:800;background:linear-gradient(90deg,var(--panel-text),var(--ion-color-primary));background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:inline-block;width:100%}.fancy-panel[_ngcontent-%COMP%]   .fancy-group[_ngcontent-%COMP%], .fancy-panel[_ngcontent-%COMP%]   .fancy-row[_ngcontent-%COMP%]{padding:16px 20px;border-radius:16px;margin-bottom:16px;background:var(--panel-field);border:1px solid var(--panel-border);transition:all .3s cubic-bezier(.25,.8,.25,1);display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 5px #0000000d}.fancy-panel[_ngcontent-%COMP%]   .fancy-group[_ngcontent-%COMP%]:hover, .fancy-panel[_ngcontent-%COMP%]   .fancy-row[_ngcontent-%COMP%]:hover{transform:translateY(-3px) scale(1.01);border-color:rgba(var(--ion-color-primary-rgb),.5);box-shadow:0 8px 25px rgba(var(--ion-color-primary-rgb),.15);background:var(--panel-bg)}.fancy-panel[_ngcontent-%COMP%]   .fancy-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .fancy-panel[_ngcontent-%COMP%]   .fancy-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;font-weight:600;font-size:1.05rem}.fancy-panel[_ngcontent-%COMP%]   .fancy-group[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], .fancy-panel[_ngcontent-%COMP%]   .fancy-group[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%], .fancy-panel[_ngcontent-%COMP%]   .fancy-group[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%], .fancy-panel[_ngcontent-%COMP%]   .fancy-row[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], .fancy-panel[_ngcontent-%COMP%]   .fancy-row[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%], .fancy-panel[_ngcontent-%COMP%]   .fancy-row[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]{flex:1;max-width:50%}.fancy-panel[_ngcontent-%COMP%]   .close-panel-btn[_ngcontent-%COMP%]{margin-top:20px;width:100%;padding:16px;font-size:1.15rem;font-weight:700;background:var(--btn-bg);color:var(--btn-text);border:none;border-radius:16px;cursor:pointer;transition:all .3s cubic-bezier(.34,1.56,.64,1);box-shadow:0 5px 15px -5px rgba(var(--ion-color-primary-rgb),.5)}.fancy-panel[_ngcontent-%COMP%]   .close-panel-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 25px -8px rgba(var(--ion-color-primary-rgb),.7);filter:brightness(1.1)}.fancy-panel[_ngcontent-%COMP%]   .close-panel-btn[_ngcontent-%COMP%]:active{transform:translateY(-1px);box-shadow:0 4px 10px -3px rgba(var(--ion-color-primary-rgb),.6)}.options-overlay[_ngcontent-%COMP%]{align-items:center}.fancy-panel[_ngcontent-%COMP%]{max-height:90vh;display:flex;flex-direction:column;overflow:hidden}.fancy-panel[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%], .fancy-panel[_ngcontent-%COMP%]   .close-panel-btn[_ngcontent-%COMP%], .fancy-panel[_ngcontent-%COMP%]   .option-item[_ngcontent-%COMP%]{flex-shrink:0}.fancy-panel[_ngcontent-%COMP%]{overflow-y:auto}@media (orientation: landscape) and (max-height: 520px){.fancy-panel[_ngcontent-%COMP%]{width:420px;max-width:95%;padding:20px;border-radius:20px}.fancy-panel[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:16px}.fancy-panel[_ngcontent-%COMP%]   .fancy-group[_ngcontent-%COMP%], .fancy-panel[_ngcontent-%COMP%]   .fancy-row[_ngcontent-%COMP%]{padding:10px 14px;margin-bottom:10px}.fancy-panel[_ngcontent-%COMP%]   .fancy-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .fancy-panel[_ngcontent-%COMP%]   .fancy-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem}.fancy-panel[_ngcontent-%COMP%]   .close-panel-btn[_ngcontent-%COMP%]{padding:12px;font-size:.95rem;margin-top:14px}}']}))}return _(),p})()},5905:(b,x,l)=>{l.d(x,{K:()=>s});var n=l(3664),t=l(2615),d=l(2200);function C(o,a){if(1&o&&(t.qSk(),n.j41(0,"text",10),n.EFF(1," \u{1f37c} "),n.k0s()),2&o){const e=n.XpG().$implicit;n.BMQ("x",e.cx)("y",e.cy+20)}}function M(o,a){if(1&o&&(t.qSk(),n.j41(0,"text",10),n.EFF(1," \u{1f600} "),n.k0s()),2&o){const e=n.XpG().$implicit;n.BMQ("x",e.cx)("y",e.cy+20)}}function f(o,a){if(1&o&&(t.qSk(),n.j41(0,"text",10),n.EFF(1," \u{1f4f1} "),n.k0s()),2&o){const e=n.XpG().$implicit;n.BMQ("x",e.cx)("y",e.cy+20)}}function m(o,a){if(1&o&&(t.qSk(),n.j41(0,"text",10),n.EFF(1," \u{1fa99} "),n.k0s()),2&o){const e=n.XpG().$implicit;n.BMQ("x",e.cx)("y",e.cy+20)}}function g(o,a){if(1&o&&(t.qSk(),n.j41(0,"text",10),n.EFF(1," \u{1f474}\u{1f3fb} "),n.k0s()),2&o){const e=n.XpG().$implicit;n.BMQ("x",e.cx)("y",e.cy+20)}}function u(o,a){if(1&o&&(t.qSk(),n.j41(0,"text",10),n.EFF(1," \u2620\ufe0f "),n.k0s()),2&o){const e=n.XpG().$implicit;n.BMQ("x",e.cx)("y",e.cy+20)}}function _(o,a){if(1&o&&(t.qSk(),n.j41(0,"g"),n.nrm(1,"rect",7),n.DNE(2,C,2,2,"text",8)(3,M,2,2,"text",8)(4,f,2,2,"text",8)(5,m,2,2,"text",8)(6,g,2,2,"text",8)(7,u,2,2,"text",8),n.j41(8,"text",9),n.EFF(9),n.k0s()()),2&o){const e=a.$implicit,i=n.XpG();n.R7$(),n.Y8G("id",e.id),n.BMQ("x",e.cx-i.CELL/2)("y",e.cy-i.CELL/2)("width",i.CELL)("height",i.CELL),n.R7$(),n.Y8G("ngIf","nacimiento"===e.type),n.R7$(),n.Y8G("ngIf","infancia"===e.type),n.R7$(),n.Y8G("ngIf","adolecencia"===e.type),n.R7$(),n.Y8G("ngIf","adultez"===e.type),n.R7$(),n.Y8G("ngIf","vejez"===e.type),n.R7$(),n.Y8G("ngIf","muerte"===e.type),n.R7$(),n.BMQ("x",e.cx)("y",e.cy+15),n.R7$(),n.SpI(" ",e.id," ")}}function p(o,a){if(1&o){const e=n.RV6();t.qSk(),n.j41(0,"foreignObject",11),t.joV(),n.j41(1,"div",12),n.bIt("pointerdown",function(c){return t.eBV(e),t.Njj(c.stopPropagation())})("click",function(){const c=t.eBV(e).$implicit,r=n.XpG();return t.Njj(r.selectplayer(c))}),n.j41(2,"div",13),n.nrm(3,"img",14),n.k0s(),n.j41(4,"div",15),n.EFF(5),n.k0s()()()}if(2&o){const e=a.$implicit,i=n.XpG();n.xc7("transform",i.getPlayerTransform(e)),n.BMQ("x",-100)("y",-100),n.R7$(3),n.Y8G("src",e.userData.image,n.B4B),n.R7$(2),n.JRh(e.userData.username)}}let s=(()=>{var o;class a{constructor(){this.CELL=200,this.GAP=50,this.STEP=this.CELL+this.GAP,this.OVERSCROLL=800,this.PATH=[{dir:"R",steps:1,type:"none"}],this.players=[],this.camera={x:0,y:0,zoom:1},this.pan=new n.bkB,this.selectedPlayer=new n.bkB,this.selectedSquare=new n.bkB,this.boardBounds=new n.bkB,this.cells=[],this.pathD="",this.viewBox="0 0 1000 1000",this.dragging=!1,this.lastX=0,this.lastY=0,this.hasMoved=!1}ngAfterViewInit(){this.initBoard()}ngOnChanges(i){i.PATH&&this.initBoard()}get transformStyle(){return`translate(${this.camera.x}px, ${this.camera.y}px) scale(${this.camera.zoom})`}initBoard(){if(this.cells=this.generateCells(),0===this.cells.length)return;const i=this.cells.map(E=>E.cx),c=this.cells.map(E=>E.cy),r=400,O=Math.min(...i)-r,h=Math.min(...c)-r,P=Math.max(...i)+r,v=Math.max(...c)+r;this.viewBox=`${O} ${h} ${P-O} ${v-h}`,this.pathD=this.buildPath(this.cells),this.boardBounds.emit({minX:-P-this.OVERSCROLL,maxX:-O+this.OVERSCROLL,minY:-v-this.OVERSCROLL,maxY:-h+this.OVERSCROLL})}getPlayerTransform(i){if(!i.gameData.position)return"translate(-10000px, -10000px)";const c=this.cells[i.gameData.position-1]||this.cells[0],r=this.getStackOffset(i.gameData.position,i.userData.uid);return`translate(${c.cx+r.x}px, ${c.cy+r.y}px)`}generateCells(){const i=[],c={R:{x:1,y:0},L:{x:-1,y:0},D:{x:0,y:1},U:{x:0,y:-1}};let r=0,O=0,h=1;for(const P of this.PATH){const v=c[P.dir];for(let y=0;y<P.steps;y++)i.push({id:h,cx:r*this.STEP,cy:O*this.STEP,type:P.type??"none"}),h++,r+=v.x,O+=v.y}return i}buildPath(i){return i.map((c,r)=>0===r?`M ${c.cx} ${c.cy}`:`L ${c.cx} ${c.cy}`).join(" ")}getStackOffset(i,c){const r=this.players.filter(P=>P.gameData.position===i);if(r.length<=1)return{x:0,y:0};const h=r.findIndex(P=>P.userData.uid===c)/r.length*(2*Math.PI);return{x:60*Math.cos(h),y:60*Math.sin(h)}}trackByPlayerId(i,c){return c.userData.uid}selectplayer(i){this.selectedPlayer.emit(i.userData.uid)}selectSquare(i){this.selectedSquare.emit(i)}onPointerDown(i){this.dragging=!0,this.hasMoved=!1,this.lastX=i.clientX,this.lastY=i.clientY;const c=i.currentTarget;c.setPointerCapture(i.pointerId),c.style.cursor="grabbing",i.preventDefault()}onPointerMove(i){if(!this.dragging)return;const c=i.clientX-this.lastX,r=i.clientY-this.lastY;(Math.abs(c)>2||Math.abs(r)>2)&&(this.hasMoved=!0),this.pan.emit({dx:c/this.camera.zoom,dy:r/this.camera.zoom}),this.lastX=i.clientX,this.lastY=i.clientY}onPointerUp(i){this.dragging=!1;const c=i.currentTarget;if(c.hasPointerCapture(i.pointerId)&&c.releasePointerCapture(i.pointerId),c.style.cursor="grab",!this.hasMoved){const r=document.elementFromPoint(i.clientX,i.clientY);if(r){r.closest(".cell-rect")||r.closest("g");const h=r.getAttribute("id");h&&this.selectSquare(parseInt(h,10))}}}static#n=o=()=>(this.\u0275fac=function(c){return new(c||a)},this.\u0275cmp=n.VBU({type:a,selectors:[["app-board"]],inputs:{PATH:"PATH",players:"players",camera:"camera"},outputs:{pan:"pan",selectedPlayer:"selectedPlayer",selectedSquare:"selectedSquare",boardBounds:"boardBounds"},standalone:!1,features:[n.OA$],decls:7,vars:8,consts:[[1,"board-wrapper",3,"pointerdown","pointermove","pointerup"],[1,"board-svg"],[2,"transform-origin","0 0"],[1,"path-glow"],[1,"path-dashed"],[4,"ngFor","ngForOf"],["width","200","height","250","style","overflow: visible; pointer-events: none;",3,"transform",4,"ngFor","ngForOf","ngForTrackBy"],["rx","40",1,"cell-rect",3,"id"],["class","cell-emoji",4,"ngIf"],[1,"cell-number"],[1,"cell-emoji"],["width","200","height","250",2,"overflow","visible","pointer-events","none"],["xmlns","http://www.w3.org/1999/xhtml",1,"token-container",2,"pointer-events","auto","cursor","pointer",3,"pointerdown","click"],[1,"avatar-wrapper"],[1,"avatar-img",3,"src"],[1,"player-name"]],template:function(c,r){1&c&&(n.j41(0,"div",0),n.bIt("pointerdown",function(h){return r.onPointerDown(h)})("pointermove",function(h){return r.onPointerMove(h)})("pointerup",function(h){return r.onPointerUp(h)}),t.qSk(),n.j41(1,"svg",1)(2,"g",2),n.nrm(3,"path",3)(4,"path",4),n.DNE(5,_,10,14,"g",5)(6,p,6,6,"foreignObject",6),n.k0s()()()),2&c&&(n.R7$(),n.BMQ("viewBox",r.viewBox),n.R7$(),n.xc7("transform",r.transformStyle),n.R7$(),n.BMQ("d",r.pathD),n.R7$(),n.BMQ("d",r.pathD),n.R7$(),n.Y8G("ngForOf",r.cells),n.R7$(),n.Y8G("ngForOf",r.players)("ngForTrackBy",r.trackByPlayerId))},dependencies:[d.Sq,d.bT],styles:['@charset "UTF-8";.board-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--ion-background-color);overflow:hidden;touch-action:none}.board-svg[_ngcontent-%COMP%]{width:100%;height:100%;overflow:visible}.cell-rect[_ngcontent-%COMP%]{fill:var(--ion-color-step-150);stroke:var(--ion-color-primary);stroke-width:5;transition:fill .3s ease;-webkit-user-select:none;user-select:none}.cell-rect[_ngcontent-%COMP%]:hover{fill:var(--ion-color-step-250)}.cell-number[_ngcontent-%COMP%]{fill:var(--panel-text);font-size:50px;text-anchor:middle;font-weight:900;pointer-events:none}.path-glow[_ngcontent-%COMP%]{fill:none;stroke:var(--ion-color-primary);stroke-width:20;opacity:.15;filter:blur(5px)}.path-dashed[_ngcontent-%COMP%]{fill:none;stroke:var(--panel-text);stroke-width:4;stroke-dasharray:15;opacity:.5}.token-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:200px}.token-container[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;background:var(--btn-bg);border-radius:50%;box-shadow:0 10px 20px #0006}.token-container[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .team-ring[_ngcontent-%COMP%]{position:absolute;inset:-5px;border:5px solid var(--ion-color-primary);border-radius:50%;box-shadow:0 0 10px var(--ion-color-primary)}.token-container[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:contain;border:3px solid var(--btn-bg)}.token-container[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{margin-top:10px;background:var(--ion-color-primary);color:var(--ion-color-primary-contrast);padding:6px 14px;border-radius:15px;font-size:22px;font-weight:700;box-shadow:0 4px 10px #0000004d;text-transform:uppercase}foreignObject[_ngcontent-%COMP%]{pointer-events:none}foreignObject[_ngcontent-%COMP%]   .token-container[_ngcontent-%COMP%]{pointer-events:auto!important;cursor:pointer}foreignObject[_ngcontent-%COMP%]   .token-container[_ngcontent-%COMP%]   .avatar-wrapper[_ngcontent-%COMP%], foreignObject[_ngcontent-%COMP%]   .token-container[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%], foreignObject[_ngcontent-%COMP%]   .token-container[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%], foreignObject[_ngcontent-%COMP%]   .token-container[_ngcontent-%COMP%]   .team-ring[_ngcontent-%COMP%]{pointer-events:none}.board-svg[_ngcontent-%COMP%]{pointer-events:visiblePainted}.cell-emoji[_ngcontent-%COMP%]{font-size:110px;text-anchor:middle;opacity:.2;pointer-events:none;-webkit-user-select:none;user-select:none}']}))}return o(),a})()},6369:(b,x,l)=>{l.d(x,{n:()=>p});var n=l(3664),t=l(2615),d=l(8814),C=l(3205),M=l(1377),f=l(2200),m=l(5389);function g(s,o){if(1&s){const a=n.RV6();n.j41(0,"button",5),n.bIt("click",function(){t.eBV(a);const i=n.XpG(2);return t.Njj(i.quitTheGame())}),n.EFF(1,"\u26d4 Salir"),n.k0s()}}function u(s,o){if(1&s){const a=n.RV6();n.j41(0,"button",5),n.bIt("click",function(){t.eBV(a);const i=n.XpG(2);return t.Njj(i.logout())}),n.EFF(1,"\u26d4 Cerrar sesi\xf3n"),n.k0s()}}function _(s,o){if(1&s){const a=n.RV6();n.j41(0,"div",4)(1,"button",5),n.bIt("click",function(){t.eBV(a);const i=n.XpG();return t.Njj(i.openOptions())}),n.EFF(2,"\u2699\ufe0f Ajustes"),n.k0s(),n.j41(3,"button",5),n.bIt("click",function(){t.eBV(a);const i=n.XpG();return t.Njj(i.goToMainMenu())}),n.EFF(4,"\u{1f6aa} Volver al men\xfa"),n.k0s(),n.nVh(5,g,2,0,"button")(6,u,2,0,"button"),n.k0s()}if(2&s){const a=n.XpG();n.R7$(5),n.vxM(a.isInGame?5:6)}}let p=(()=>{var s;class o{constructor(e,i,c){this.router=e,this.auth=i,this.gameSettings=c,this.showOptions=!1,this.menuOpen=!1,this.currentUser={uid:"",username:"Loading...",email:"loading...",createdAt:"loading...",image:"https://media1.giphy.com/media/v1.Y2lkPTZjMDliOTUycGVhMXQ1YnpleXEwNG5tMnlvcXh1eHY2YjQ2aDZxNWVoMzcydWg1cCZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/L05HgB2h6qICDs5Sms/200.gif"},this.isInGame=!1,this.isQuiting=new n.bkB,this.logo="assets/icon/logo.png",this.assets=new n.bkB}ngOnInit(){this.currentUser.image&&(this.currentUser.image="https://media1.giphy.com/media/v1.Y2lkPTZjMDliOTUycGVhMXQ1YnpleXEwNG5tMnlvcXh1eHY2YjQ2aDZxNWVoMzcydWg1cCZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/L05HgB2h6qICDs5Sms/200.gif")}toggleMenu(){this.menuOpen=!this.menuOpen}openOptions(){this.showOptions=!0}closeOptions(){this.showOptions=!1}goToMainMenu(){this.menuOpen=!1}logout(){this.auth.logout()}quitTheGame(){this.isQuiting.emit(!0)}remitir(e){this.assets.emit(e)}static#n=s=()=>(this.\u0275fac=function(i){return new(i||o)(n.rXU(d.Ix),n.rXU(C.u),n.rXU(M.M))},this.\u0275cmp=n.VBU({type:o,selectors:[["app-profile"]],inputs:{currentUser:"currentUser",isInGame:"isInGame"},outputs:{isQuiting:"isQuiting",assets:"assets"},standalone:!1,decls:4,vars:3,consts:[[1,"profile-area",3,"click"],[1,"profile-img",3,"src"],["class","dropdown-menu",4,"ngIf"],[3,"closed","assets","showOptions"],[1,"dropdown-menu"],[3,"click"]],template:function(i,c){1&i&&(n.j41(0,"div",0),n.bIt("click",function(){return c.toggleMenu()}),n.nrm(1,"img",1),n.DNE(2,_,7,1,"div",2),n.k0s(),n.j41(3,"app-options",3),n.bIt("closed",function(){return c.closeOptions()})("assets",function(O){return c.remitir(O)}),n.k0s()),2&i&&(n.R7$(),n.Y8G("src",c.currentUser.image,n.B4B),n.R7$(),n.Y8G("ngIf",c.menuOpen),n.R7$(),n.Y8G("showOptions",c.showOptions))},dependencies:[f.bT,m.o],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.profile-area[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;cursor:pointer;height:50px}.profile-area[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;border:2px solid var(--ion-color-primary);object-fit:cover;transition:transform .2s ease}.profile-area[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;background:var(--surface-color);border:1px solid var(--border-color);border-radius:12px;min-width:180px;box-shadow:0 10px 25px #0000004d;z-index:1000;display:flex;flex-direction:column;padding:8px;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .2s ease-out}.dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;color:var(--ion-text-color);border:none;padding:12px 15px;text-align:left;font-size:.9rem;cursor:pointer;border-radius:8px;display:flex;align-items:center;gap:10px;transition:background .2s}.dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--control-hover)}.dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{color:var(--ion-color-danger, #ff4961)}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}']}))}return s(),o})()},6844:(b,x,l)=>{l.d(x,{F:()=>m});var n=l(2615),t=l(3664),d=l(4398),C=l(2200),M=l(7343);function f(g,u){if(1&g){const _=t.RV6();t.j41(0,"div",2),t.bIt("click",function(){const s=n.eBV(_).$implicit,o=t.XpG();return n.Njj(o.removeToast(s))}),t.nrm(1,"div",3),t.j41(2,"div",4),t.nrm(3,"ion-icon",5),t.k0s(),t.j41(4,"div",6)(5,"div",7),t.EFF(6),t.k0s(),t.j41(7,"div",8),t.EFF(8),t.k0s()(),t.j41(9,"button",9),t.nrm(10,"ion-icon",10),t.k0s(),t.nrm(11,"div",11),t.k0s()}if(2&g){const _=u.$implicit,p=t.XpG();t.Y8G("ngClass",_.type),t.R7$(3),t.Y8G("name",p.getIcon(_.type)),t.R7$(3),t.JRh(_.title),t.R7$(2),t.JRh(_.message)}}let m=(()=>{var g;class u{constructor(p){this.audio=p,this.toasts=[]}addToast(p){const s={...p,type:p.type||"info",duration:p.duration||3e3};this.toasts.push(s),this.audio.playEffect("toast"),setTimeout(()=>{this.removeToast(s)},s.duration)}removeToast(p){const s=this.toasts.indexOf(p);s>-1&&this.toasts.splice(s,1)}getIcon(p){switch(p){case"success":return"checkmark-circle";case"danger":return"skull";case"warning":return"warning";case"loot":return"diamond";default:return"notifications"}}static#n=g=()=>(this.\u0275fac=function(s){return new(s||u)(t.rXU(d.U))},this.\u0275cmp=t.VBU({type:u,selectors:[["app-game-toast"]],standalone:!1,decls:2,vars:1,consts:[[1,"toast-container"],["class","toast-card",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"toast-card",3,"click","ngClass"],[1,"color-strip"],[1,"icon-box"],[3,"name"],[1,"content"],[1,"title"],[1,"message"],[1,"close-btn"],["name","close"],[1,"texture"]],template:function(s,o){1&s&&(t.j41(0,"div",0),t.DNE(1,f,12,4,"div",1),t.k0s()),2&s&&(t.R7$(),t.Y8G("ngForOf",o.toasts))},dependencies:[C.YU,C.Sq,M.iq],styles:['@charset "UTF-8";.toast-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:110000;display:flex;flex-direction:column;gap:15px;pointer-events:none}.toast-card[_ngcontent-%COMP%]{--bg: #fdfaf0;--text: #333;--accent: #555;position:relative;width:300px;background:var(--bg);border-radius:8px;box-shadow:0 4px #0003,0 10px 20px #00000026;display:flex;align-items:stretch;overflow:hidden;cursor:pointer;pointer-events:auto;animation:_ngcontent-%COMP%_slideInRight .4s cubic-bezier(.175,.885,.32,1.275);transition:transform .2s,opacity .2s}.toast-card.info[_ngcontent-%COMP%]{--accent: #3498db}.toast-card.success[_ngcontent-%COMP%]{--accent: #27ae60}.toast-card.warning[_ngcontent-%COMP%]{--accent: #f39c12}.toast-card.danger[_ngcontent-%COMP%]{--accent: #c0392b}.toast-card.loot[_ngcontent-%COMP%]{--accent: #9b59b6}.toast-card[_ngcontent-%COMP%]:hover{transform:translate(-5px)}.toast-card[_ngcontent-%COMP%]:active{transform:scale(.98);box-shadow:0 2px #0003}.toast-card[_ngcontent-%COMP%]   .texture[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:url(https://www.transparenttextures.com/patterns/paper-fibers.png);opacity:.1;pointer-events:none;z-index:0}.toast-card[_ngcontent-%COMP%]   .color-strip[_ngcontent-%COMP%]{width:6px;background:var(--accent);flex-shrink:0}.toast-card[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{width:50px;display:flex;align-items:center;justify-content:center;font-size:1.8rem;color:var(--accent);background:#00000008;position:relative;z-index:1}.toast-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-grow:1;padding:12px 10px;display:flex;flex-direction:column;justify-content:center;position:relative;z-index:1}.toast-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:800;font-size:.9rem;text-transform:uppercase;color:var(--text);margin-bottom:4px;letter-spacing:.5px}.toast-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:.85rem;color:#555;line-height:1.3;font-weight:500}.toast-card[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;padding:10px 10px 5px;color:#999;font-size:1.2rem;cursor:pointer;display:flex;align-items:flex-start;position:relative;z-index:2}.toast-card[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:var(--accent)}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(50px) rotate(5deg)}to{opacity:1;transform:translate(0) rotate(0)}}']}))}return g(),u})()},8531:(b,x,l)=>{l.d(x,{p:()=>s});var n=l(3664),t=l(2615),d=l(4398),C=l(2200),M=l(7343),f=l(4341);function m(o,a){if(1&o){const e=n.RV6();n.j41(0,"div",12)(1,"input",13),n.mxI("ngModelChange",function(c){t.eBV(e);const r=n.XpG();return n.DH7(r.inputValue,c)||(r.inputValue=c),t.Njj(c)}),n.k0s()()}if(2&o){const e=n.XpG();n.R7$(),n.R50("ngModel",e.inputValue),n.Y8G("placeholder",(null==e.config?null:e.config.placeholder)||"Escribe aqu\xed...")}}function g(o,a){if(1&o&&n.nrm(0,"img",17),2&o){const e=n.XpG().$implicit;n.Y8G("src",e.image,n.B4B)}}function u(o,a){if(1&o){const e=n.RV6();n.j41(0,"label",16),n.nVh(1,g,1,1,"img",17),n.j41(2,"input",18),n.mxI("ngModelChange",function(c){t.eBV(e);const r=n.XpG(2);return n.DH7(r.selectedValue,c)||(r.selectedValue=c),t.Njj(c)}),n.k0s(),n.j41(3,"span",19),n.EFF(4),n.k0s(),n.nrm(5,"span",20),n.k0s()}if(2&o){const e=a.$implicit,i=n.XpG(2);n.R7$(),n.vxM(e.image?1:-1),n.R7$(),n.Y8G("value",e.value),n.R50("ngModel",i.selectedValue),n.R7$(2),n.JRh(e.label)}}function _(o,a){if(1&o&&(n.j41(0,"div",14),n.DNE(1,u,6,4,"label",15),n.k0s()),2&o){const e=n.XpG();n.R7$(),n.Y8G("ngForOf",null==e.config?null:e.config.options)}}function p(o,a){if(1&o){const e=n.RV6();n.j41(0,"button",21),n.bIt("click",function(){t.eBV(e);const c=n.XpG();return t.Njj(c.cancel())}),n.EFF(1),n.k0s()}if(2&o){const e=n.XpG();n.R7$(),n.SpI(" ",(null==e.config?null:e.config.cancelText)||"Cancelar"," ")}}let s=(()=>{var o;class a{constructor(i){this.audio=i,this.isOpen=!1,this.close=new n.bkB,this.inputValue="",this.selectedValue=null}ngOnInit(){this.audio.playEffect("modal"),this.reset()}ngOnChanges(){this.isOpen&&this.config&&this.initializeValues()}initializeValues(){this.config?.defaultValue&&("input"===this.config.mode&&(this.inputValue=this.config.defaultValue),"select"===this.config.mode&&(this.selectedValue=this.config.defaultValue))}getIcon(){switch(this.config?.style||"info"){case"success":return"checkmark-circle";case"error":return"alert-circle";case"warning":return"warning";case"quest":return"help-circle";default:return"information-circle"}}getAccentClass(){return this.config?.style??"info"}confirm(){let i;this.config&&(i="input"===this.config.mode?this.inputValue:"select"!==this.config.mode||this.selectedValue),this.close.emit(i),this.isOpen=!1}cancel(){this.close.emit(null),this.isOpen=!1}reset(){this.inputValue="",this.selectedValue=null}static#n=o=()=>(this.\u0275fac=function(c){return new(c||a)(n.rXU(d.U))},this.\u0275cmp=n.VBU({type:a,selectors:[["app-game-modal"]],inputs:{config:"config",isOpen:"isOpen"},outputs:{close:"close"},standalone:!1,features:[n.OA$],decls:16,vars:11,consts:[[1,"modal-overlay"],[1,"modal-card",3,"ngClass"],[1,"modal-header"],[1,"icon-wrapper"],[3,"name"],[1,"modal-body"],[1,"message"],["class","input-container",4,"ngIf"],["class","radio-group",4,"ngIf"],[1,"modal-footer"],["class","btn-cancel",3,"click",4,"ngIf"],[1,"btn-confirm",3,"click","disabled"],[1,"input-container"],["type","text",1,"game-input",3,"ngModelChange","ngModel","placeholder"],[1,"radio-group"],["class","radio-item",4,"ngFor","ngForOf"],[1,"radio-item"],[1,"option-image",3,"src"],["type","radio","name","modal-opt",3,"ngModelChange","value","ngModel"],[1,"radio-label"],[1,"radio-check"],[1,"btn-cancel",3,"click"]],template:function(c,r){1&c&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),n.nrm(4,"ion-icon",4),n.k0s(),n.j41(5,"h3"),n.EFF(6),n.k0s()(),n.j41(7,"div",5)(8,"p",6),n.EFF(9),n.k0s(),n.DNE(10,m,2,2,"div",7)(11,_,2,1,"div",8),n.k0s(),n.j41(12,"div",9),n.DNE(13,p,2,1,"button",10),n.j41(14,"button",11),n.bIt("click",function(){return r.confirm()}),n.EFF(15),n.k0s()()()()),2&c&&(n.AVh("show",r.isOpen),n.R7$(),n.Y8G("ngClass",r.getAccentClass()),n.R7$(3),n.Y8G("name",r.getIcon()),n.R7$(2),n.JRh(null==r.config?null:r.config.title),n.R7$(3),n.JRh(null==r.config?null:r.config.message),n.R7$(),n.Y8G("ngIf","input"===(null==r.config?null:r.config.mode)),n.R7$(),n.Y8G("ngIf","select"===(null==r.config?null:r.config.mode)),n.R7$(2),n.Y8G("ngIf","info"!==(null==r.config?null:r.config.mode)),n.R7$(),n.Y8G("disabled","input"===(null==r.config?null:r.config.mode)&&!r.inputValue||"select"===(null==r.config?null:r.config.mode)&&!r.selectedValue),n.R7$(),n.SpI(" ",(null==r.config?null:r.config.confirmText)||("info"===(null==r.config?null:r.config.mode)?"Entendido":"Confirmar")," "))},dependencies:[C.YU,C.Sq,C.bT,M.iq,f.me,f.Fm,f.BC,f.vS],styles:['.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:100000;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .2s ease}.modal-overlay.show[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.modal-overlay.show[_ngcontent-%COMP%]   .modal-card[_ngcontent-%COMP%]{transform:scale(1) translateY(0)}.modal-card[_ngcontent-%COMP%]{--bg-color: #fdfaf0;--accent: #444;background:var(--bg-color);width:90%;max-width:400px;border-radius:20px;padding:6px;box-shadow:0 15px 30px #0006;transform:scale(.9) translateY(20px);transition:transform .3s cubic-bezier(.175,.885,.32,1.275);border:2px solid var(--accent)}.modal-card.success[_ngcontent-%COMP%]{--accent: #27ae60}.modal-card.error[_ngcontent-%COMP%]{--accent: #c0392b}.modal-card.warning[_ngcontent-%COMP%]{--accent: #f39c12}.modal-card.quest[_ngcontent-%COMP%]{--accent: #8e44ad}.modal-card.info[_ngcontent-%COMP%]{--accent: #2980b9}.modal-header[_ngcontent-%COMP%]{background:var(--accent);color:#fff;padding:20px;border-radius:14px 14px 0 0;text-align:center;position:relative}.modal-header[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:60px;height:60px;background:#fff;border-radius:50%;margin:-50px auto 10px;display:flex;align-items:center;justify-content:center;border:3px solid var(--accent)}.modal-header[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--accent)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 0;font-size:1.2rem;font-weight:800;text-transform:uppercase;letter-spacing:1px}.modal-body[_ngcontent-%COMP%]{padding:20px;text-align:center;color:#333}.modal-body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5;margin-bottom:20px;font-weight:500}.game-input[_ngcontent-%COMP%]{width:100%;padding:12px 15px;border:2px solid #ddd;border-radius:10px;font-size:1rem;background:#fff;color:#333;outline:none;transition:border-color .2s}.game-input[_ngcontent-%COMP%]:focus{border-color:var(--accent)}.radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;text-align:left}.radio-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;background:#fff;border:1px solid #ddd;border-radius:10px;cursor:pointer;position:relative;transition:all .2s}.radio-item[_ngcontent-%COMP%]:hover{background:#f9f9f9}.radio-item[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.radio-item[_ngcontent-%COMP%]:has(input:checked){border-color:var(--accent);background:#00000005}.radio-item[_ngcontent-%COMP%]:has(input:checked)   .radio-check[_ngcontent-%COMP%]{border-color:var(--accent)}.radio-item[_ngcontent-%COMP%]:has(input:checked)   .radio-check[_ngcontent-%COMP%]:after{transform:scale(1)}.radio-item[_ngcontent-%COMP%]:has(input:checked)   .radio-label[_ngcontent-%COMP%]{color:var(--accent);font-weight:700;flex-grow:1;font-size:.95rem}.radio-item[_ngcontent-%COMP%]   .radio-check[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #ccc;border-radius:50%;margin-right:12px;position:relative}.radio-item[_ngcontent-%COMP%]   .radio-check[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:3px;background:var(--accent);border-radius:50%;transform:scale(0);transition:transform .2s}.radio-item[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]{flex-grow:1;font-size:.95rem;font-family:cursive;text-transform:uppercase}.radio-item[_ngcontent-%COMP%]   .option-image[_ngcontent-%COMP%]{width:auto;height:40px;margin-right:11px;border-radius:50%;background:#97a5f9}.modal-footer[_ngcontent-%COMP%]{padding:0 20px 20px;display:flex;gap:10px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:14px;border-radius:10px;font-weight:700;font-size:.9rem;cursor:pointer;border:none;text-transform:uppercase}.modal-footer[_ngcontent-%COMP%]   button.btn-confirm[_ngcontent-%COMP%]{background:var(--accent);color:#fff;box-shadow:0 4px #0003}.modal-footer[_ngcontent-%COMP%]   button.btn-confirm[_ngcontent-%COMP%]:active{transform:translateY(2px);box-shadow:0 2px #0003}.modal-footer[_ngcontent-%COMP%]   button.btn-confirm[_ngcontent-%COMP%]:disabled{background:#ccc;box-shadow:none;cursor:not-allowed}.modal-footer[_ngcontent-%COMP%]   button.btn-cancel[_ngcontent-%COMP%]{background:transparent;color:#777;border:2px solid #ddd}.modal-footer[_ngcontent-%COMP%]   button.btn-cancel[_ngcontent-%COMP%]:hover{background:#f0f0f0;color:#333}']}))}return o(),a})()},9701:(b,x,l)=>{l.d(x,{h:()=>g});var n=l(3664),t=l(2615),d=l(2200),C=l(7343);const M=["cardElement"],f=(u,_)=>({plus:u,minus:_});function m(u,_){if(1&u&&(n.j41(0,"div",17)(1,"span",18),n.EFF(2),n.k0s(),n.j41(3,"span",19),n.EFF(4,"PTS"),n.k0s()()),2&u){const p=n.XpG();n.Y8G("ngClass",n.l_i(3,f,p.square.points>0,p.square.points<0)),n.R7$(2),n.Lme("",p.square.points>0?"+":"","",p.square.points)}}let g=(()=>{var u;class _{constructor(){this.close=new n.bkB,this.isRotating=!0,this.effectLabels={none:"Sin efecto",missesTurn:"Pierdes turno",lostAllPoints:"Bancarrota",advance:"Avanzar",goBack:"Retroceder"}}onMouseMove(s){this.isRotating=!1;const o=this.card.nativeElement.getBoundingClientRect(),a=o.width/2,e=o.height/2,c=(s.clientY-(o.top+e))/e;this.card.nativeElement.style.setProperty("--ratio-x",((s.clientX-(o.left+a))/a).toString()),this.card.nativeElement.style.setProperty("--ratio-y",c.toString())}onMouseLeave(){this.card.nativeElement.style.setProperty("--ratio-x","0"),this.card.nativeElement.style.setProperty("--ratio-y","0")}getIconForType(){const s=this.square?.effect?.type||"none";return s.includes("advance")?"arrow-forward-circle":"missesTurn"===s?"timer-outline":"lostAllPoints"===s?"skull-outline":"help-circle-outline"}getColorClass(){return this.square?.section?.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")||"neutral"}onClose(){this.close.emit()}static#n=u=()=>(this.\u0275fac=function(o){return new(o||_)},this.\u0275cmp=n.VBU({type:_,selectors:[["app-square-card"]],viewQuery:function(o,a){if(1&o&&n.GBs(M,5),2&o){let e;n.mGM(e=n.lsd())&&(a.card=e.first)}},inputs:{square:"square"},outputs:{close:"close"},standalone:!1,decls:21,vars:8,consts:[["cardElement",""],[1,"square-card-overlay",3,"click"],[1,"board-game-card",3,"mousemove","mouseleave","click","ngClass"],[1,"holo-foil"],[1,"card-texture"],[1,"card-container"],[1,"card-header-box"],[1,"section-label"],[1,"icon-frame"],[3,"name"],[1,"card-content"],[1,"card-title"],[1,"divider"],[1,"card-description"],[1,"card-footer-box"],["class","points-badge-physical",3,"ngClass",4,"ngIf"],[1,"confirm-button",3,"click"],[1,"points-badge-physical",3,"ngClass"],[1,"pts-val"],[1,"pts-txt"]],template:function(o,a){if(1&o){const e=n.RV6();n.j41(0,"div",1),n.bIt("click",function(){return t.eBV(e),t.Njj(a.onClose())}),n.j41(1,"div",2,0),n.bIt("mousemove",function(c){return t.eBV(e),t.Njj(a.onMouseMove(c))})("mouseleave",function(){return t.eBV(e),t.Njj(a.onMouseLeave())})("click",function(c){return t.eBV(e),t.Njj(c.stopPropagation())}),n.nrm(3,"div",3)(4,"div",4),n.j41(5,"div",5)(6,"div",6)(7,"div",7),n.EFF(8),n.k0s(),n.j41(9,"div",8),n.nrm(10,"ion-icon",9),n.k0s()(),n.j41(11,"div",10)(12,"h2",11),n.EFF(13),n.k0s(),n.nrm(14,"div",12),n.j41(15,"p",13),n.EFF(16),n.k0s()(),n.j41(17,"div",14),n.DNE(18,m,5,6,"div",15),n.j41(19,"button",16),n.bIt("click",function(){return t.eBV(e),t.Njj(a.onClose())}),n.EFF(20," \xa1ENTENDIDO! "),n.k0s()()()()()}2&o&&(n.R7$(),n.AVh("special-edition",a.isRotating),n.Y8G("ngClass",a.getColorClass()),n.R7$(7),n.JRh(a.square.section),n.R7$(2),n.Y8G("name",a.getIconForType()),n.R7$(3),n.JRh(a.square.title),n.R7$(3),n.JRh(a.square.text),n.R7$(2),n.Y8G("ngIf",0!==a.square.points))},dependencies:[d.YU,d.bT,C.iq],styles:['@charset "UTF-8";@property --ratio-x{syntax: "<number>"; inherits: true; initial-value: 0;}@property --ratio-y{syntax: "<number>"; inherits: true; initial-value: 0;}.square-card-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000c;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);display:flex;align-items:center;justify-content:center;z-index:99999;perspective:1200px}.board-game-card[_ngcontent-%COMP%]{--card-radius: 20px;--accent-color: var( --btn-bg );position:relative;width:320px;height:70%;background:var(--panel-bg);border-radius:var(--card-radius);padding:12px;transform-style:preserve-3d;transition:transform .1s ease-out;transform:rotateY(calc(-15deg * var(--ratio-x))) rotateX(calc(15deg * var(--ratio-y)));animation:_ngcontent-%COMP%_cardAppear .4s cubic-bezier(.175,.885,.32,1.275)}.board-game-card.nacimiento[_ngcontent-%COMP%]{--accent-color: #3498db}.board-game-card.infancia[_ngcontent-%COMP%]{--accent-color: #2ecc71}.board-game-card.adultez[_ngcontent-%COMP%]{--accent-color: #9b59b6}.board-game-card[_ngcontent-%COMP%]   .card-texture[_ngcontent-%COMP%]{position:absolute;inset:0;opacity:.1;pointer-events:none;background-image:url(https://www.transparenttextures.com/patterns/paper-fibers.png);border-radius:inherit;z-index:2}.board-game-card[_ngcontent-%COMP%]   .holo-foil[_ngcontent-%COMP%]{position:absolute;border-radius:20px;inset:0;z-index:3;opacity:.3;pointer-events:none;mix-blend-mode:color-dodge;background:linear-gradient(125deg,transparent 0%,rgba(255,255,255,.4) 45%,var(--accent-color) 50%,rgba(255,255,255,.4) 55%,transparent 100%);background-size:250% 250%;background-position:calc(50% + var(--ratio-x) * 50%) calc(50% + var(--ratio-y) * 50%)}.board-game-card[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{position:relative;z-index:4;height:100%;border:3px solid var(--accent-color);border-radius:calc(var(--card-radius) - 6px);display:flex;flex-direction:column;overflow:hidden;background:var(--panel-bg)}.board-game-card[_ngcontent-%COMP%]   .card-header-box[_ngcontent-%COMP%]{background:var(--accent-color);padding:18px 15px;text-align:center;color:#fff}.board-game-card[_ngcontent-%COMP%]   .card-header-box[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;letter-spacing:2px;font-weight:800;margin-bottom:10px;opacity:.9}.board-game-card[_ngcontent-%COMP%]   .card-header-box[_ngcontent-%COMP%]   .icon-frame[_ngcontent-%COMP%]{background:var(--panel-bg);width:54px;height:54px;margin:0 auto;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 2px 4px #0000001a}.board-game-card[_ngcontent-%COMP%]   .card-header-box[_ngcontent-%COMP%]   .icon-frame[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--accent-color);font-size:2rem}.board-game-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:25px 20px;flex-grow:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;overflow:auto}.board-game-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:900;margin:0;color:var(--panel-text);text-transform:uppercase;line-height:1.2}.board-game-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:40px;height:4px;background:var(--accent-color);margin:18px 0;border-radius:2px}.board-game-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.5;color:var(--panel-text);opacity:.85;overflow:auto}.board-game-card[_ngcontent-%COMP%]   .card-footer-box[_ngcontent-%COMP%]{padding:20px;background:var(--panel-field);border-top:1px dashed var(--panel-border)}.board-game-card[_ngcontent-%COMP%]   .card-footer-box[_ngcontent-%COMP%]   .points-badge-physical[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:baseline;gap:6px;margin-bottom:15px}.board-game-card[_ngcontent-%COMP%]   .card-footer-box[_ngcontent-%COMP%]   .points-badge-physical.plus[_ngcontent-%COMP%]{color:#2ecc71}.board-game-card[_ngcontent-%COMP%]   .card-footer-box[_ngcontent-%COMP%]   .points-badge-physical.minus[_ngcontent-%COMP%]{color:#e74c3c}.board-game-card[_ngcontent-%COMP%]   .card-footer-box[_ngcontent-%COMP%]   .points-badge-physical[_ngcontent-%COMP%]   .pts-val[_ngcontent-%COMP%]{font-size:2.4rem;font-weight:900}.board-game-card[_ngcontent-%COMP%]   .card-footer-box[_ngcontent-%COMP%]   .points-badge-physical[_ngcontent-%COMP%]   .pts-txt[_ngcontent-%COMP%]{font-weight:700;font-size:.9rem}.board-game-card[_ngcontent-%COMP%]   .card-footer-box[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]{width:100%;background:var(--btn-bg);color:var(--btn-text);border:none;padding:16px;border-radius:12px;font-weight:800;text-transform:uppercase;letter-spacing:1px;box-shadow:0 4px 0 var(--panel-border);cursor:pointer;transition:all .1s}.board-game-card[_ngcontent-%COMP%]   .card-footer-box[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]:active{transform:translateY(2px);box-shadow:0 2px 0 var(--panel-border)}@keyframes _ngcontent-%COMP%_cardAppear{0%{opacity:0;transform:scale(.7) rotateX(40deg)}to{opacity:1;transform:scale(1) rotateX(0)}}@media (max-height: 520px) and (orientation: landscape){.board-game-card[_ngcontent-%COMP%]{height:90vh;aspect-ratio:320/520;transform:scale(.88) rotateY(calc(-15deg * var(--ratio-x))) rotateX(calc(15deg * var(--ratio-y)))}.board-game-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:14px 12px;justify-content:flex-start}.board-game-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.1;margin-bottom:6px}.board-game-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:8px 0;height:3px;width:32px}.board-game-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-description[_ngcontent-%COMP%]{font-size:.85rem;line-height:1.35;max-height:none;overflow:visible}.board-game-card[_ngcontent-%COMP%]   .card-header-box[_ngcontent-%COMP%]{padding:10px 12px}.board-game-card[_ngcontent-%COMP%]   .card-header-box[_ngcontent-%COMP%]   .section-label[_ngcontent-%COMP%]{font-size:.6rem;margin-bottom:4px}.board-game-card[_ngcontent-%COMP%]   .card-header-box[_ngcontent-%COMP%]   .icon-frame[_ngcontent-%COMP%]{width:40px;height:40px}.board-game-card[_ngcontent-%COMP%]   .card-header-box[_ngcontent-%COMP%]   .icon-frame[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.4rem}.board-game-card[_ngcontent-%COMP%]   .card-footer-box[_ngcontent-%COMP%]{padding:12px}.board-game-card[_ngcontent-%COMP%]   .card-footer-box[_ngcontent-%COMP%]   .points-badge-physical[_ngcontent-%COMP%]{margin-bottom:8px}.board-game-card[_ngcontent-%COMP%]   .card-footer-box[_ngcontent-%COMP%]   .points-badge-physical[_ngcontent-%COMP%]   .pts-val[_ngcontent-%COMP%]{font-size:1.8rem}.board-game-card[_ngcontent-%COMP%]   .card-footer-box[_ngcontent-%COMP%]   .points-badge-physical[_ngcontent-%COMP%]   .pts-txt[_ngcontent-%COMP%]{font-size:.75rem}.board-game-card[_ngcontent-%COMP%]   .card-footer-box[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]{padding:10px;font-size:.8rem}}']}))}return u(),_})()}}]);